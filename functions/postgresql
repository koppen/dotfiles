# PostgreSQL control

function pgstop {
  local version=`ps -A | grep \[b\]in/postgres | sed -E "s/.+postgresql([0-9]{2}).+/\1/g"`
  `pgstop$version`
};

alias pg9_server="sudo /opt/local/etc/LaunchDaemons/org.macports.postgresql94-server/postgresql94-server.wrapper"
function pgrestart9 {
  pg9_server restart
};
function pgselect9 {
  sudo port select postgresql postgresql94
};
function pgstart9 {
  pgselect9
  cd /
  pg9_server start
  cd -
};
function pgstop9 {
  pg9_server stop
};

alias pg10_server="sudo /opt/local/etc/LaunchDaemons/org.macports.postgresql10-server/postgresql10-server.wrapper"
function pgrestart10 {
  pg10_server restart
};
function pgselect10 {
  sudo port select postgresql postgresql10
};
function pgstart10 {
  pgselect10
  cd /
  pg10_server start
  cd -
};
function pgstop10 {
  pg10_server stop
};

alias pg11_server="sudo /opt/local/etc/LaunchDaemons/org.macports.postgresql11-server/postgresql11-server.wrapper"
function pgrestart11 {
  pg11_server restart
};
function pgselect11 {
  sudo port select postgresql postgresql11
};
function pgstart11 {
  pgselect11
  cd /
  pg11_server start
  cd -
};
function pgstop11 {
  pg11_server stop
};

alias pg12_server="sudo /opt/local/etc/LaunchDaemons/org.macports.postgresql12-server/postgresql12-server.wrapper"
function pgrestart12 {
  cd /
  pg12_server restart
  cd -
};
function pgselect12 {
  sudo port select postgresql postgresql12
};
function pgstart12 {
  pgselect12
  cd /
  pg12_server start
  cd -
};
function pgstop12 {
  pg12_server stop
};

alias pg13_server="sudo /opt/local/etc/LaunchDaemons/org.macports.postgresql13-server/postgresql13-server.wrapper"
function pgrestart13 {
  cd /
  pg13_server restart
  cd -
};
function pgselect13 {
  sudo port select postgresql postgresql13
};
function pgstart13 {
  pgselect13
  cd /
  pg13_server start
  cd -
};
function pgstop13 {
  pg13_server stop
};
